.input-textfield {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-03);

  /* Component tokens (light defaults) */
  --itf-bg: var(--color-neutral-25);
  --itf-border: var(--color-neutral-200);
  --itf-text: var(--color-neutral-900);
  --itf-placeholder: var(--color-neutral-600);
  --itf-helper: var(--color-neutral-700);

  --itf-error: var(--color-danger-600);
  --itf-success: var(--color-success-600);
}

.input-textfield__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-02);
}

.input-textfield__label {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-02);
  font-family: var(--font-family-primary);
  font-size: var(--type-text-m-size);
  line-height: var(--type-text-m-line);
  color: var(--itf-text);
}

.input-textfield__label.is-hidden {
  opacity: 0;
  pointer-events: none;
}

.input-textfield__optional {
  color: var(--itf-placeholder);
}

.input-textfield__counter {
  font-family: var(--font-family-primary);
  font-size: var(--type-text-xs-size);
  line-height: var(--type-text-xs-line);
  color: var(--itf-placeholder);
}

.input-textfield__control {
  background: var(--itf-bg);
  border: 1px solid var(--itf-border);
  border-radius: var(--radius-03);
  padding-block: var(--spacing-02);
  padding-inline: calc(var(--spacing-03) + var(--spacing-02)); /* 8px + 4px = 12px */
  display: flex;
  align-items: center;
  box-sizing: border-box;
  gap: var(--icon-m-gap, 0.5rem);
}

.input-textfield__leading-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: var(--icon-m-box, 1.5rem);
  min-height: var(--icon-m-box, 1.5rem);
  color: var(--itf-placeholder);
}

.input-textfield__input {
  flex: 1;
  min-width: 0;
  border: 0;
  outline: none;
  background: transparent;
  font-family: var(--font-family-primary);
  font-size: var(--type-text-m-size);
  line-height: var(--type-text-m-line);
  color: var(--itf-text);
}

.input-textfield__trailing {
  display: inline-flex;
  align-items: center;
  margin-left: var(--spacing-02);
}

.input-textfield__input::placeholder {
  color: var(--itf-placeholder);
}

.input-textfield__input:-webkit-autofill,
.input-textfield__input:-webkit-autofill:hover,
.input-textfield__input:-webkit-autofill:focus,
.input-textfield__input:-webkit-autofill:active {
  -webkit-text-fill-color: var(--itf-text);
  caret-color: var(--itf-text);
  box-shadow: 0 0 0 1000px var(--itf-bg) inset;
  transition: background-color 9999s ease-out 0s;
}

.input-textfield__helper {
  font-family: var(--font-family-primary);
  font-size: var(--type-text-xs-size);
  line-height: var(--type-text-xs-line);
  color: var(--itf-helper);
  min-height: calc(var(--icon-s-box, 1.375rem) + 2px); /* always reserve space for icon+text */
  display: flex;
  align-items: flex-start;
  gap: var(--icon-s-gap, 0.375rem);
}

.input-textfield__helper.is-error { color: var(--itf-error); }
.input-textfield__helper.is-success { color: var(--itf-success); }

.input-textfield__helper.is-hidden {
  visibility: hidden;
}

/* States */
.input-textfield--hovered .input-textfield__control {
  background: var(--color-neutral-50);
  border-color: var(--color-neutral-200);
}

.input-textfield__control:hover {
  background: var(--color-neutral-50);
  border-color: var(--color-neutral-200);
}

.input-textfield--focused .input-textfield__control,
.input-textfield:focus-within .input-textfield__control {
  box-shadow: var(--effect-focus-outer-primary), var(--effect-focus-inner);
}

.input-textfield--disabled .input-textfield__control,
.input-textfield--disabled .input-textfield__input {
  cursor: not-allowed;
  color: var(--color-neutral-400);
}

.input-textfield--readOnly .input-textfield__control {
  background: var(--color-neutral-100);
}

.input-textfield--error .input-textfield__control {
  border-color: var(--itf-error);
}

.input-textfield--success .input-textfield__control {
  border-color: var(--itf-success);
}

.input-textfield--l .input-textfield__control {
  padding-block: var(--spacing-05);
  height: 78px;
}

.input-textfield--l .input-textfield__input {
  font-size: var(--type-text-l-size);
  line-height: var(--type-text-l-line);
}